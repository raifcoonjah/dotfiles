---

- name: Setup DEV ENV
  hosts: localhost

  tasks:
    - name: Remove previous conf
      ansible.builtin.file:
        path: 
          - ~/.zshrc
          - ~/.tmux.conf
        state: absent
  
    - name: Install zsh configuration
      ansible.builtin.file:
        src: ~/.dotfiles/zsh/zshrc.j2
        dest: ~/.zshrc
        state: link
    
    - name: Setup tmux configuration
      ansible.builtin.file:
        src: ~/.dotfiles/tmux/tmux.j2
        dest: ~/.tmux.conf
        state: link
    
    - name: Clone Oh My Zsh
      ansible.builtin.git:
        repo: https://github.com/ohmyzsh/ohmyzsh.git
        dest: ~/.oh-my-zsh
        depth: 1
   
    - name: Clone zsh-autosuggestions plugin
      ansible.builtin.git:
        repo: https://github.com/zsh-users/zsh-autosuggestions
        dest: ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions
        depth: 1
   
    - name: Clone zsh-completions plugin
      ansible.builtin.git:
        repo: https://github.com/zsh-users/zsh-completions
        dest: ~/.oh-my-zsh/custom/plugins/zsh-completions
        depth: 1
     
    - name: Clone zsh-syntax-highlighting plugin
      ansible.builtin.git:
        repo: https://github.com/zsh-users/zsh-syntax-highlighting.git
        dest: ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting
        depth: 1
    
    - name: Clone zsh theme
      ansible.builtin.git:
        repo: https://github.com/win0err/aphrodite-terminal-theme
        dest: ~/.oh-my-zsh/custom/themes/aphrodite
        depth: 1
